jQuery(function(i){function e(){if(i("#search_input").val()){var e={action:"get_featured_google_image",post_title:i("#search_input").val(),page_num:r};i("#img_loading").show(),i.ajax({type:"POST",url:ajaxurl,data:e,success:function(e){s+=e,i("#image_content").html(s),n(),r+=1,i("#img_loading").hide()},error:function(e,t,n){i("#img_loading").hide()}})}return!1}function t(){if(i(".main_modal").hide(),!a)return!1;var e={action:"set_featured_google_image",image_url:a,post_id:o};i.ajax({type:"POST",url:ajaxurl,data:e,success:function(e){i("#postimagediv .inside").html(e)},error:function(i,e,t){}})}function n(){var e=parseInt((i(".main_modal").width()-450)/4),n=parseInt(2*e/3);i(".img_size").css("width",e),i(".img_size").css("height",n),i(".img_size").css("border","4px solid white"),i(".img_size").on("click",function(){i(".img_size").css("border","4px solid white"),i(this).css("border","4px solid #0fec20"),a=this.alt}),i(".img_size").on("dblclick",function(){i(".img_size").css("border","4px solid white"),i(this).css("border","4px solid #0fec20"),a=this.alt,t()})}var a,o,s="",r=1;i("#progress_bar").hide(),i(".media-modal-icon").on("click",function(e){i(".main_modal").hide()}),i("#set_btn").on("click",function(i){t()}),i("#featured_image_btn").on("click",function(e){i("#progress_bar").show();var t={action:"bulk_featured_google_image"};i.ajax({type:"POST",url:ajaxurl,data:t,success:function(e){i("#progress_bar").hide();var t=JSON.parse(e);document.getElementById("google_image_list").innerHTML=t},error:function(e,t,n){i("#progress_bar").hide()}})}),show_google_iamge_form=function(t){i(".main_modal").show(),i("#image_content").html("");var n=i("#title").val();i("#search_input").val(n),i("#search_input").focus(),a="",r=1,o=t,i("#img_loading").hide(),s="",e()},i("#search_input").keypress(function(i){return 13==i.keyCode&&(s="",r=1,e()),!1}),i("#image_content").endlessScroll({callback:function(){e()}});var c=i(window).width(),l=i(window).height(),_=2*c/3;_=_>500?500:_,i("#search_input").css("width",_),i("#image_content").css("height",l-400)});